/* Maple Neon Theme */

/* 基础变量定义 */
:root {
  --chat-background-white: #fff;
  --color-border: rgba(120, 120, 120, 0.08);
  --monospace-font: "Maple Mono NF CN", monospace;
  --content-font: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    sans-serif;
  --input-gradient-opacity: 1;
  --box-shadow-message: 0 4px 16px -8px rgba(0, 0, 0, 0.08);
  --border-radius-message: 16px;
  --transition-base: all 0.25s cubic-bezier(0.645, 0.045, 0.355, 1);
}

/* 消息容器样式 */
.message-content-container {
  box-shadow: var(--box-shadow-message);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-message);
  margin: 8px 0;
  padding: 12px 14px 2px 14px;
  transition: var(--transition-base);
}

.message-user .message-content-container {
  box-shadow: 0 8px 28px -12px rgba(0, 0, 0, 0.05);
}

/* 主题模式设置 */
body[theme-mode="light"] {
  --color-primary: #3f6ec8;
  --color-primary-soft: #5b87df;
  --color-primary-mute: #2a4b87;
  --input-gradient-opacity: 0.3;
}

body[theme-mode="dark"] {
  --color-primary: #5b87df;
  --color-primary-soft: #3f6ec8;
  --color-primary-mute: #2a4b87;
  --color-border: rgba(255, 255, 255, 0.2);  /* 提高边框透明度 */
  --chat-background-white: #252530;         /* 调整背景色为不透明 */
  --chat-text-user: #edeef0;
  --color-text: #edeef0;
  --box-shadow-message: 0 4px 16px -8px rgba(0, 0, 0, 0.4);
  --input-gradient-opacity: 0.6;
  
  .message-content-container {
    border-color: var(--color-border) !important;
  }
  
  .markdown-body pre {
    background: rgba(0, 0, 0, 0.3) !important;
    border-color: rgba(255, 255, 255, 0.15) !important;
  }
  
  :not(pre) > code {
    background: rgba(255, 255, 255, 0.15);
  }
}


/* 输入框霓虹效果 */
#inputbar {
  z-index: 1;
  position: relative;
  box-shadow: 0 8px 24px -12px rgba(0, 0, 0, 0.08);
  margin: 0 15px 15px 15px;
  transition: var(--transition-base);
}

#inputbar::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  padding: 2px;
  background: linear-gradient(
    90deg,
    #d65f00,
    #ffb800,
    #8a2be2,
    #ffb800,
    #d45e00
  );
  background-size: 200% 200%;
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask-composite: exclude;
  animation: gradientFlow 4s ease infinite;
  opacity: 0;
  transition: var(--transition-base);
  pointer-events: none;
}

#inputbar:focus-within {
  animation: subtleBlinking 4s ease infinite;
}

#inputbar:focus-within::before {
  opacity: var(--input-gradient-opacity);
}

body[theme-mode="dark"] {
  #inputbar:focus-within::before {
    opacity: 0.8;
  }
}

@keyframes gradientFlow {
  0% {
    background-position: 0 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0 50%;
  }
}

@keyframes subtleBlinking {
  0% {
    filter: drop-shadow(rgba(33, 150, 243, 0.3) 0px 0px 2px);
  }
  50% {
    filter: drop-shadow(rgba(255, 165, 0, 0.3) 0px 0px 5px);
  }
  100% {
    filter: drop-shadow(rgba(33, 150, 243, 0.3) 0px 0px 2px);
  }
}
